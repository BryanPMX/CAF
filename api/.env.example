# CAF API Environment Configuration Template
# Copy this file to '.env' and fill in your actual values

# === Application Configuration ===
PORT=8080
NODE_ENV=production
# Optional: public API base URL (e.g. https://api.example.com) for profile avatar URLs when using local storage
# API_BASE_URL=https://api.example.com

# === Database Configuration ===
# For production, use your managed database (RDS, etc.)
DB_USER=your_db_user
DB_PASSWORD=your_secure_db_password
DB_NAME=caf_production_db
DB_HOST=your-database-host.region.rds.amazonaws.com
DB_PORT=5432
DB_SSLMODE=require

# === Security ===
# Generate a secure 64-character JWT secret
JWT_SECRET=your_jwt_secret_here_64_characters_minimum_for_security

# === AWS Configuration ===
AWS_REGION=us-east-1
S3_BUCKET=your-s3-bucket-name
# For production, these should be set via IAM roles or environment variables
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# Do NOT set AWS_ENDPOINT_URL for production (remove this line)

# === Stripe Configuration (Client Payments / Receipts) ===
# Secret key is used ONLY by the API server to create Checkout Sessions and list receipts.
STRIPE_SECRET_KEY=sk_live_xxx
# Optional: shown in docs / future web client integrations, not required for Checkout URL flow
# STRIPE_PUBLISHABLE_KEY=pk_live_xxx
# Redirects after hosted Stripe Checkout (can be website URLs or deep-link URLs)
STRIPE_CHECKOUT_SUCCESS_URL=https://caf-mexico.org/pagos/exito
STRIPE_CHECKOUT_CANCEL_URL=https://caf-mexico.org/pagos/cancelado
# Stripe webhook endpoint signing secret (Workbench > Webhooks)
STRIPE_WEBHOOK_SECRET=whsec_xxx
# Optional default currency for case fee payments (defaults to mxn)
STRIPE_CURRENCY=mxn

# === CORS Configuration ===
# Comma-separated list of allowed origins
CORS_ALLOWED_ORIGINS=https://your-admin-domain.com,https://your-portal-domain.com

# === Development Configuration (for local development) ===
# Uncomment and modify these for local development:
# NODE_ENV=development
# DB_HOST=localhost
# DB_USER=user
# DB_PASSWORD=password
# DB_NAME=caf_db
# DB_SSLMODE=disable
# AWS_ENDPOINT_URL=http://localhost:4566
# S3_BUCKET=caf-dev-bucket
# CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
